{"remainingRequest":"D:\\JAVAEE\\springboot+vue仓库管理完整代码\\springboot_vue_wms\\wms-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\JAVAEE\\springboot+vue仓库管理完整代码\\springboot_vue_wms\\wms-web\\src\\components\\record\\RecordManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\JAVAEE\\springboot+vue仓库管理完整代码\\springboot_vue_wms\\wms-web\\src\\components\\record\\RecordManage.vue","mtime":1665913410000},{"path":"D:\\JAVAEE\\springboot+vue仓库管理完整代码\\springboot_vue_wms\\wms-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684911347484},{"path":"D:\\JAVAEE\\springboot+vue仓库管理完整代码\\springboot_vue_wms\\wms-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1684911346452},{"path":"D:\\JAVAEE\\springboot+vue仓库管理完整代码\\springboot_vue_wms\\wms-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684911347484},{"path":"D:\\JAVAEE\\springboot+vue仓库管理完整代码\\springboot_vue_wms\\wms-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1684911353218}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICBleHBvcnQgZGVmYXVsdCB7CiAgICAgICAgbmFtZTogIlJlY29yZE1hbmFnZSIsCiAgICAgICAgZGF0YSgpIHsKCiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICB1c2VyIDogSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdDdXJVc2VyJykpLAogICAgICAgICAgICAgICAgc3RvcmFnZURhdGE6W10sCiAgICAgICAgICAgICAgICBnb29kc3R5cGVEYXRhOltdLAogICAgICAgICAgICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgICAgICAgICAgIHBhZ2VTaXplOjEwLAogICAgICAgICAgICAgICAgcGFnZU51bToxLAogICAgICAgICAgICAgICAgdG90YWw6MCwKICAgICAgICAgICAgICAgIG5hbWU6JycsCiAgICAgICAgICAgICAgICBzdG9yYWdlOicnLAogICAgICAgICAgICAgICAgZ29vZHN0eXBlOicnLAogICAgICAgICAgICAgICAgY2VudGVyRGlhbG9nVmlzaWJsZTpmYWxzZSwKICAgICAgICAgICAgICAgIGZvcm06ewogICAgICAgICAgICAgICAgICAgIGlkOicnLAogICAgICAgICAgICAgICAgICAgIG5hbWU6JycsCiAgICAgICAgICAgICAgICAgICAgc3RvcmFnZTonJywKICAgICAgICAgICAgICAgICAgICBnb29kc3R5cGU6JycsCiAgICAgICAgICAgICAgICAgICAgY291bnQ6JycsCiAgICAgICAgICAgICAgICAgICAgcmVtYXJrOicnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBtZXRob2RzOnsKICAgICAgICAgICAgZm9ybWF0U3RvcmFnZShyb3cpewogICAgICAgICAgICAgICAgbGV0IHRlbXAgPSAgdGhpcy5zdG9yYWdlRGF0YS5maW5kKGl0ZW09PnsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5pZCA9PSByb3cuc3RvcmFnZQogICAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgICAgICByZXR1cm4gdGVtcCAmJiB0ZW1wLm5hbWUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZm9ybWF0R29vZHN0eXBlKHJvdyl7CiAgICAgICAgICAgICAgICBsZXQgdGVtcCA9ICB0aGlzLmdvb2RzdHlwZURhdGEuZmluZChpdGVtPT57CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT0gcm93Lmdvb2RzdHlwZQogICAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgICAgICByZXR1cm4gdGVtcCAmJiB0ZW1wLm5hbWUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcmVzZXRGb3JtKCkgewogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5mb3JtLnJlc2V0RmllbGRzKCk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg5q+P6aG1ICR7dmFsfSDmnaFgKTsKICAgICAgICAgICAgICAgIHRoaXMucGFnZU51bT0xCiAgICAgICAgICAgICAgICB0aGlzLnBhZ2VTaXplPXZhbAogICAgICAgICAgICAgICAgdGhpcy5sb2FkUG9zdCgpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg5b2T5YmN6aG1OiAke3ZhbH1gKTsKICAgICAgICAgICAgICAgIHRoaXMucGFnZU51bT12YWwKICAgICAgICAgICAgICAgIHRoaXMubG9hZFBvc3QoKQogICAgICAgICAgICB9LAogICAgICAgICAgICByZXNldFBhcmFtKCl7CiAgICAgICAgICAgICAgICB0aGlzLm5hbWU9JycKICAgICAgICAgICAgICAgIHRoaXMuc3RvcmFnZT0nJwogICAgICAgICAgICAgICAgdGhpcy5nb29kc3R5cGU9JycKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbG9hZFN0b3JhZ2UoKXsKICAgICAgICAgICAgICAgIHRoaXMuJGF4aW9zLmdldCh0aGlzLiRodHRwVXJsKycvc3RvcmFnZS9saXN0JykudGhlbihyZXM9PnJlcy5kYXRhKS50aGVuKHJlcz0+ewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcykKICAgICAgICAgICAgICAgICAgICBpZihyZXMuY29kZT09MjAwKXsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9yYWdlRGF0YT1yZXMuZGF0YQogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn6I635Y+W5pWw5o2u5aSx6LSlJykKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbG9hZEdvb2RzdHlwZSgpewogICAgICAgICAgICAgICAgdGhpcy4kYXhpb3MuZ2V0KHRoaXMuJGh0dHBVcmwrJy9nb29kc3R5cGUvbGlzdCcpLnRoZW4ocmVzPT5yZXMuZGF0YSkudGhlbihyZXM9PnsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpCiAgICAgICAgICAgICAgICAgICAgaWYocmVzLmNvZGU9PTIwMCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ29vZHN0eXBlRGF0YT1yZXMuZGF0YQogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn6I635Y+W5pWw5o2u5aSx6LSlJykKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbG9hZFBvc3QoKXsKICAgICAgICAgICAgICAgIHRoaXMuJGF4aW9zLnBvc3QodGhpcy4kaHR0cFVybCsnL3JlY29yZC9saXN0UGFnZScsewogICAgICAgICAgICAgICAgICAgIHBhZ2VTaXplOnRoaXMucGFnZVNpemUsCiAgICAgICAgICAgICAgICAgICAgcGFnZU51bTp0aGlzLnBhZ2VOdW0sCiAgICAgICAgICAgICAgICAgICAgcGFyYW06ewogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOnRoaXMubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgZ29vZHN0eXBlOnRoaXMuZ29vZHN0eXBlKycnLAogICAgICAgICAgICAgICAgICAgICAgICBzdG9yYWdlOnRoaXMuc3RvcmFnZSsnJywKICAgICAgICAgICAgICAgICAgICAgICAgcm9sZUlkOnRoaXMudXNlci5yb2xlSWQrJycsCiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJZDp0aGlzLnVzZXIuaWQrJycKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS50aGVuKHJlcz0+cmVzLmRhdGEpLnRoZW4ocmVzPT57CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKQogICAgICAgICAgICAgICAgICAgIGlmKHJlcy5jb2RlPT0yMDApewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YT1yZXMuZGF0YQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvdGFsPXJlcy50b3RhbAogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn6I635Y+W5pWw5o2u5aSx6LSlJykKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAgIGJlZm9yZU1vdW50KCkgewogICAgICAgICAgICB0aGlzLmxvYWRTdG9yYWdlKCkKICAgICAgICAgICAgdGhpcy5sb2FkR29vZHN0eXBlKCkKICAgICAgICAgICAgdGhpcy5sb2FkUG9zdCgpCgogICAgICAgIH0KICAgIH0K"},{"version":3,"sources":["RecordManage.vue"],"names":[],"mappings":";AA+DA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"RecordManage.vue","sourceRoot":"src/components/record","sourcesContent":["<template>\n    <div>\n        <div style=\"margin-bottom: 5px;\">\n            <el-input v-model=\"name\" placeholder=\"请输入物品名\" suffix-icon=\"el-icon-search\" style=\"width: 200px;\"\n                      @keyup.enter.native=\"loadPost\"></el-input>\n            <el-select v-model=\"storage\" placeholder=\"请选择仓库\" style=\"margin-left: 5px;\">\n                <el-option\n                        v-for=\"item in storageData\"\n                        :key=\"item.id\"\n                        :label=\"item.name\"\n                        :value=\"item.id\">\n                </el-option>\n            </el-select>\n            <el-select v-model=\"goodstype\" placeholder=\"请选择分类\" style=\"margin-left: 5px;\">\n                <el-option\n                        v-for=\"item in goodstypeData\"\n                        :key=\"item.id\"\n                        :label=\"item.name\"\n                        :value=\"item.id\">\n                </el-option>\n            </el-select>\n\n            <el-button type=\"primary\" style=\"margin-left: 5px;\" @click=\"loadPost\">查询</el-button>\n            <el-button type=\"success\" @click=\"resetParam\">重置</el-button>\n\n\n        </div>\n        <el-table :data=\"tableData\"\n                  :header-cell-style=\"{ background: '#f2f5fc', color: '#555555' }\"\n                  border\n        >\n            <el-table-column prop=\"id\" label=\"ID\" width=\"60\">\n            </el-table-column>\n            <el-table-column prop=\"goodsname\" label=\"物品名\" width=\"180\">\n            </el-table-column>\n            <el-table-column prop=\"storagename\" label=\"仓库\" width=\"180\">\n            </el-table-column>\n            <el-table-column prop=\"goodstypename\" label=\"分类\" width=\"180\">\n            </el-table-column>\n            <el-table-column prop=\"adminname\" label=\"操作人\" width=\"180\">\n            </el-table-column>\n            <el-table-column prop=\"username\" label=\"申请人\" width=\"180\">\n            </el-table-column>\n            <el-table-column prop=\"count\" label=\"数量\" width=\"180\">\n            </el-table-column>\n            <el-table-column prop=\"createtime\" label=\"操作时间\" width=\"180\">\n            </el-table-column>\n            <el-table-column prop=\"remark\" label=\"备注\">\n            </el-table-column>\n        </el-table>\n        <el-pagination\n                @size-change=\"handleSizeChange\"\n                @current-change=\"handleCurrentChange\"\n                :current-page=\"pageNum\"\n                :page-sizes=\"[5, 10, 20,30]\"\n                :page-size=\"pageSize\"\n                layout=\"total, sizes, prev, pager, next, jumper\"\n                :total=\"total\">\n        </el-pagination>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"RecordManage\",\n        data() {\n\n            return {\n                user : JSON.parse(sessionStorage.getItem('CurUser')),\n                storageData:[],\n                goodstypeData:[],\n                tableData: [],\n                pageSize:10,\n                pageNum:1,\n                total:0,\n                name:'',\n                storage:'',\n                goodstype:'',\n                centerDialogVisible:false,\n                form:{\n                    id:'',\n                    name:'',\n                    storage:'',\n                    goodstype:'',\n                    count:'',\n                    remark:''\n                },\n            }\n        },\n        methods:{\n            formatStorage(row){\n                let temp =  this.storageData.find(item=>{\n                    return item.id == row.storage\n                })\n\n                return temp && temp.name\n            },\n            formatGoodstype(row){\n                let temp =  this.goodstypeData.find(item=>{\n                    return item.id == row.goodstype\n                })\n\n                return temp && temp.name\n            },\n            resetForm() {\n                this.$refs.form.resetFields();\n            },\n            handleSizeChange(val) {\n                console.log(`每页 ${val} 条`);\n                this.pageNum=1\n                this.pageSize=val\n                this.loadPost()\n            },\n            handleCurrentChange(val) {\n                console.log(`当前页: ${val}`);\n                this.pageNum=val\n                this.loadPost()\n            },\n            resetParam(){\n                this.name=''\n                this.storage=''\n                this.goodstype=''\n            },\n            loadStorage(){\n                this.$axios.get(this.$httpUrl+'/storage/list').then(res=>res.data).then(res=>{\n                    console.log(res)\n                    if(res.code==200){\n                        this.storageData=res.data\n                    }else{\n                        alert('获取数据失败')\n                    }\n\n                })\n            },\n            loadGoodstype(){\n                this.$axios.get(this.$httpUrl+'/goodstype/list').then(res=>res.data).then(res=>{\n                    console.log(res)\n                    if(res.code==200){\n                        this.goodstypeData=res.data\n                    }else{\n                        alert('获取数据失败')\n                    }\n\n                })\n            },\n            loadPost(){\n                this.$axios.post(this.$httpUrl+'/record/listPage',{\n                    pageSize:this.pageSize,\n                    pageNum:this.pageNum,\n                    param:{\n                        name:this.name,\n                        goodstype:this.goodstype+'',\n                        storage:this.storage+'',\n                        roleId:this.user.roleId+'',\n                        userId:this.user.id+''\n                    }\n                }).then(res=>res.data).then(res=>{\n                    console.log(res)\n                    if(res.code==200){\n                        this.tableData=res.data\n                        this.total=res.total\n                    }else{\n                        alert('获取数据失败')\n                    }\n\n                })\n            },\n        },\n        beforeMount() {\n            this.loadStorage()\n            this.loadGoodstype()\n            this.loadPost()\n\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"]}]}